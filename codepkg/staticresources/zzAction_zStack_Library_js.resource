<!--
// Name: zStack Library
// Committer: eric.stephens@zpaper.com
// Update: ERS190317 #57336 needed a comment testing X_dependencies
-->
<script>
//--- RULE JSON REPRESENTATION ---
var ruleJson = {"type":"rool","updated":"2019-03-17 18:51:48","evalContinue":"true","active":true,"button":"","name":"zStack Library","conditions":{"logic":"and","arguments":[{"name":"doc.status","value":"DoNotStack","operation":"not-contains"}]},"consequence":{"doit":"Ly9nbG9iYWwgdmFyaWFibGVzCnpEYXRhLnVwbG9hZERpciA9ICJpbnRlZ3JhdGlvbkRpciI7CgovLyBRdWV1ZSBTRklECnpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiIjsgLy9OZWVkIHRvIGFkZCB0aGlzIHF1ZXVlIGluIFNldHVwCnpEYXRhLnJlY1R5cGVSZXF1ZXN0ID0gIjAxMjRDMDAwMDAwQ2o1WSI7IC8vSUQgb2YgdGhlIENhc2UgUmVjb3JkIFR5cGUgUmVxdWVzdF9QU19NVk4KekRhdGEucHJvZ3JhbU5hbWUgPSBudWxsOwp6RGF0YS5BZmZpbGlhdGUgPSAiIjsKekRhdGEuc291cmNlTmFtZSA9ICJGYXgiOwovL01TSDE4MDQwOCB6RGF0YS5wcm9kdWN0SWQgPSAiIjsKekRhdGEucHJvZHVjdElkID0gbnVsbDsKLy9RdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKekRhdGEub3duZXJJZCA9IG51bGw7Ci8vcHJvZ3JhbSBTRklECnpEYXRhLnByb2dyYW1JZCA9IG51bGw7CnpEYXRhLmNsYXNzaWZpY2F0aW9uID0gbnVsbDsKekRhdGEuc2tpcENhc2VUeXBlSWQgPSBudWxsOwp6RGF0YS5nZW5lcmF0ZVRpZmYgPSBmYWxzZTsKekRhdGEuZ2VuZXJhdGVUaWZmQ2hpbGQgPSBmYWxzZTsgLy9FUlMxOTAzMTcgIzU3MzM2IG5lZWRlZCBhIGNvbW1lbnQgdGVzdGluZyBYX2RlcGVuZGVuY2llcwp6RGF0YS5jYXNlVHlwZU1hcCA9IG51bGw7Ci8vQ1JOMTcwMzI0IFRPRE8gZG9jLmNsb25lKCkgZG9uZSByaWdodDsKekRhdGEuY2xvbmUgPSBmdW5jdGlvbiAoZG9jKSB7CiAgICB2YXIgZG9jMCA9IFtdOwogICAgZm9yICh2YXIgaSBpbiBkb2MpIHsKICAgICAgICBkb2MwW2ldID0gZG9jW2ldOwogICAgfQogICAgcmV0dXJuIGRvYzA7Cn07Ci8vIERFViBjb25maWcKekRhdGEuc2V0RGV2Q29uZmlnID0gZnVuY3Rpb24gKGRvYykgewogICAgYWxlcnQoIisrKyBTVEFSVElORyB6RGF0YS5zZXREZXZDb25maWcgKysrIik7CiAgICBhbGVydCgiQEBAIGRvYy5kZWxpdmVyZWRUbyA9ICIgKyBkb2MuZGVsaXZlcmVkVG8pOwogICAgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxNDA5IikgPiAtMSkgewogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIkVudHJlc3RvIENlbnRyYWwiOwogICAgICAgIC8vZW50cmVzdG8gUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMHludkIiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZzVDMDAwMDAwRzdOQSI7CiAgICAgICAgLy9lbnRyZXN0byBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMHludkIiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIkVudHJlc3RvIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSAiYTJENUMwMDAwMDBJVjhrIjsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOyAvL2twczE4MDQwNiB1cGRhdGVkIHRvIGluY2x1ZGUgVElGCiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxNzY2IikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIFRPQkkKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJUT0JJIFBvZENhcmUiOwogICAgICAgIC8vVE9CSSBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAweXo4VCI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnNUMwMDAwMDBHN05BIjsKICAgICAgICAvL1RPQkkgUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDB5ejhUIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJUT0JJIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSAiYTJENUMwMDAwMDBJVjhqIjsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOyAvL2twczE4MDQwNiB1cGRhdGVkIHRvIGluY2x1ZGUgVElGCiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcwMjA2IikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIE5QQUYKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJOUEFGIjsKICAgICAgICAvL05QQUYgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMGdiRHAiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZzVDMDAwMDAwRzdOQSI7CiAgICAgICAgLy9OUEFGIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAwZ2JEcCI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiTlBBRiI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gbnVsbDsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MDQ0MiIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBOUEFGIFByaW9yaXR5CiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiTlBBRiI7CiAgICAgICAgLy9OUEFGIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDBnYkRxIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGc1QzAwMDAwMEc3TkEiOwogICAgICAgIC8vTlBBRiBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMGdiRHEiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIk5QQUYiOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9IG51bGw7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzAyMDciKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgUEFOTwogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIlBBTk8iOwogICAgICAgIC8vUEFOTyBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAwZ2JEciI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnNUMwMDAwMDBHN05BIjsKICAgICAgICAvL1BBTk8gUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDBnYkRyIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJQQU5PIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcwMjE5IikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIEFJTU9WSUcKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJBSU1PVklHIjsKICAgICAgICAvL0FJTU9WSUcgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMGdiRG4iOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZzVDMDAwMDAwRzdOQSI7CiAgICAgICAgLy9BSU1PVklHIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAwZ2JEbiI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiQUlNT1ZJRyI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gImEyRDVDMDAwMDAwSVY3TiI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzEwMzUiKSA+IC0xIHx8IGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxMDQyIikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIENvc2VudHl4CiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiQ29zZW50eXgiOwogICAgICAgIC8vQ29zZW50eXggUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEc1QzAwMDAwMVVFbngiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZzVDMDAwMDAwRzdOQSI7CiAgICAgICAgLy9Db3NlbnR5eCBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEc1QzAwMDAwMVVFbngiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIkNvc2VudHl4IjsKICAgICAgICBpZihkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MTA0MiIpID4gLTEpewogICAgICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJDb3NlbnR5eCBEaXJlY3QgdG8gU1AiOyAKICAgICAgICB9CiAgICAgICAgIHpEYXRhLmNhc2VUeXBlTWFwPXsKICAgICAgICAgICAgIjAxMmY0MDAwMDAwZ295dCIgOiAiUEVGIiwKICAgICAgICAgICAgIjAxMmY0MDAwMDAwZ295dSIgOiAiQ29wYXkgUmVmZXJyYWwiLAogICAgICAgICAgICAiMDEyZjQwMDAwMDBnb3owIiA6ICJQQVAgUmVmZXJyYWwiLAogICAgICAgICAgICAiMDEyNUMwMDAwMDBGMXlrIiA6ICJCZW5lZml0IEludmVzdGlnYXRpb24iCiAgICAgICAgfTsKICAgICAgICAvL3pEYXRhLnByb2R1Y3RJZCA9ICJhMkQyOTAwMDAwMFNQTEkiOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9ICJhMkQ1QzAwMDAwMElWN2wiOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmQ2hpbGQgPSB0cnVlOwogICAgICAgIC8vTm90IGNyZWF0ZSBhIGNhc2Ugd2hlbiBjYXNlIHJlY29yZCB0eXBlIGlzIGhvdGxpbmUKICAgICAgICAvL3pEYXRhLnNraXBDYXNlVHlwZUlkID0gWyIwMTJmNDAwMDAwMGdveXkiLCAiMDEyZjQwMDAwMDBnb3l5Il07CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxMTQxIikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIE1heXplbnQgU3VwcG9ydCBQcm9ncmFtCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiTWF5emVudCBTdXBwb3J0IFByb2dyYW0iOwogICAgICAgIC8vTWF5emVudCBTdXBwb3J0IFByb2dyYW0gUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEc1QzAwMDAwMVVFbzIiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZzVDMDAwMDAwRzdOQSI7CiAgICAgICAgLy9NYXl6ZW50IFN1cHBvcnQgUHJvZ3JhbSBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEc1QzAwMDAwMVVFbzIiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIk1heXplbnQgU3VwcG9ydCBQcm9ncmFtIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIk5vIFByb2dyYW0gSWRlbnRpZmllZCI7CiAgICB9CiAgICBhbGVydCgiKysrIEVORElORyB6RGF0YS5zZXREZXZDb25maWcgKysrIik7CiAgICBhbGVydCgiQEBAIHpEYXRhLnByb2dyYW1OYW1lID0gIiArIHpEYXRhLnByb2dyYW1OYW1lKTsKICAgIGFsZXJ0KCJAQEAgekRhdGEucHJvZ3JhbUlkID0gIiArIHpEYXRhLnByb2dyYW1JZCk7CiAgICBhbGVydCgiQEBAIHpEYXRhLm93bmVySWQgPSAiICsgekRhdGEub3duZXJJZCk7CiAgICBhbGVydCgiQEBAIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiICsgekRhdGEucGF0RW5yb2xsUXVldWVJZCk7CiAgICBhbGVydCgiQEBAIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIiArIHpEYXRhLmNsYXNzaWZpY2F0aW9uKTsKfTsKCi8vIFNJVCBjb25maWcKekRhdGEuc2V0U0lUQ29uZmlnID0gZnVuY3Rpb24gKGRvYykgewogICAgYWxlcnQoIisrKyBTVEFSVElORyB6RGF0YS5zZXRTSVRDb25maWcgKysrIik7CiAgICBhbGVydCgiQEBAIGRvYy5kZWxpdmVyZWRUbyA9ICIgKyBkb2MuZGVsaXZlcmVkVG8pOwogICAgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxMjA4IikgPiAtMSkgewogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIkVudHJlc3RvIENlbnRyYWwiOwogICAgICAgIC8vZW50cmVzdG8gUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMHludkIiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9lbnRyZXN0byBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMHludkIiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIkVudHJlc3RvIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSAiYTJEZjQwMDAwMDBjRG5QIjsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOyAvL2twczE4MDQwNiB1cGRhdGVkIHRvIGluY2x1ZGUgVElGCiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxMjEwIikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIFRPQkkKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJUT0JJIFBvZENhcmUiOwogICAgICAgIC8vVE9CSSBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAweXo4VCI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL1RPQkkgUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDB5ejhUIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJUT0JJIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSAiYTJEZjQwMDAwMDBjRVNJIjsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOyAvL2twczE4MDQwNiB1cGRhdGVkIHRvIGluY2x1ZGUgVElGCiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxMjE2IikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIE5QQUYKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJOUEFGIjsKICAgICAgICAvL05QQUYgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMGdiRHAiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9OUEFGIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAwZ2JEcCI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiTlBBRiI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gbnVsbDsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MTIxOCIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBOUEFGCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiTlBBRiI7CiAgICAgICAgLy9OUEFGIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDBnYkRxIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vTlBBRiBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMGdiRHEiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIk5QQUYiOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9IG51bGw7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzEyMjEiKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgUEFOTwogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIlBBTk8iOwogICAgICAgIC8vUEFOTyBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAwZ2JEciI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL1BBTk8gUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDBnYkRyIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJQQU5PIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxMjI1IikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIEFJTU9WSUcKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJBSU1PVklHIjsKICAgICAgICAvL0FJTU9WSUcgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMGdiRG4iOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9BSU1PVklHIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAwZ2JEbiI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiQUlNT1ZJRyI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gImEyRGY0MDAwMDAwOVBFTSI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzA5MzciKSA+IC0xIHx8IGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcwOTUzIikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIENvc2VudHl4CiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiQ29zZW50eXgiOwogICAgICAgIC8vQ29zZW50eXggUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMzBha3AiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9Db3NlbnR5eCBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMzBha3AiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIkNvc2VudHl4IjsKICAgICAgICBpZihkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MDk1MyIpID4gLTEpewogICAgICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJDb3NlbnR5eCBEaXJlY3QgdG8gU1AiOyAKICAgICAgICB9CiAgICAgICAgekRhdGEuY2FzZVR5cGVNYXA9ewogICAgICAgICIwMTJmNDAwMDAwMGdveXQiIDogIlBFRiIsCiAgICAgICAgIjAxMmY0MDAwMDAwZ295dSIgOiAiQ29wYXkgUmVmZXJyYWwiLAogICAgICAgICIwMTJmNDAwMDAwMGdvejAiIDogIlBBUCBSZWZlcnJhbCIsCiAgICAgICAgIjAxMmY0MDAwMDAwT1MwUiIgOiAiQmVuZWZpdCBJbnZlc3RpZ2F0aW9uIgogICAgICAgIH07CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gImEyRGY0MDAwMDAwOVBFa0VBTSI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmZDaGlsZCA9IHRydWU7CiAgICAgICAgLy9Ob3QgY3JlYXRlIGEgY2FzZSB3aGVuIGNhc2UgcmVjb3JkIHR5cGUgaXMgaG90bGluZQogICAgICAgIC8vekRhdGEuc2tpcENhc2VUeXBlSWQgPSBbIjAxMmY0MDAwMDAwZ295eSIsICIwMTJmNDAwMDAwMGdveXkiXTsKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzExNDciKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgTWF5emVudCBTdXBwb3J0IFByb2dyYW0KICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJNYXl6ZW50IFN1cHBvcnQgUHJvZ3JhbSI7CiAgICAgICAgLy9NYXl6ZW50IFN1cHBvcnQgUHJvZ3JhbSBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwRzVCMDAwMDAxRHFVaSI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL01heXplbnQgU3VwcG9ydCBQcm9ncmFtIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwRzVCMDAwMDAxRHFVaSI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiTWF5emVudCBTdXBwb3J0IFByb2dyYW0iOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9IG51bGw7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSBkb2MuZGVsaXZlcmVkVG87IC8vRVJTMTcwNjI2CiAgICB9CiAgICBhbGVydCgiKysrIEVORElORyB6RGF0YS5zZXRTSVRDb25maWcgKysrIik7CiAgICBhbGVydCgiQEBAIHpEYXRhLnByb2dyYW1OYW1lID0gIiArIHpEYXRhLnByb2dyYW1OYW1lKTsKICAgIGFsZXJ0KCJAQEAgekRhdGEucHJvZ3JhbUlkID0gIiArIHpEYXRhLnByb2dyYW1JZCk7CiAgICBhbGVydCgiQEBAIHpEYXRhLm93bmVySWQgPSAiICsgekRhdGEub3duZXJJZCk7CiAgICBhbGVydCgiQEBAIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiICsgekRhdGEucGF0RW5yb2xsUXVldWVJZCk7CiAgICBhbGVydCgiQEBAIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIiArIHpEYXRhLmNsYXNzaWZpY2F0aW9uKTsKfTsKLy8gVUFUIGNvbmZpZwp6RGF0YS5zZXRVQVRDb25maWcgPSBmdW5jdGlvbiAoZG9jKSB7CiAgICBhbGVydCgiKysrIFNUQVJUSU5HIHpEYXRhLnNldFVBVENvbmZpZyArKysiKTsKICAgIGFsZXJ0KCJAQEAgZG9jLmRlbGl2ZXJlZFRvID0gIiArIGRvYy5kZWxpdmVyZWRUbyk7CiAgICBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzE0MzciKSA+IC0xKSB7IC8vRVJTNzA0MjEgaW5kZXhPZiBpcyBzYWZlciAjMzY0MTEKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJFbnRyZXN0byBDZW50cmFsIjsKICAgICAgICAvL2VudHJlc3RvIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDB5bnZCIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vZW50cmVzdG8gUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDB5bnZCIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJFbnRyZXN0byI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gImEyRGY0MDAwMDAwY0RuUCI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsgLy9rcHMxODA0MDYgdXBkYXRlZCB0byBpbmNsdWRlIFRJRgogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MTc4NSIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBUT0JJCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiVE9CSSBQb2RDYXJlIjsKICAgICAgICAvL1RPQkkgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMHl6OFQiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9UT0JJIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAweXo4VCI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiVE9CSSI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gImEyRGY0MDAwMDAwY0VTSSI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsgLy9rcHMxODA0MDYgdXBkYXRlZCB0byBpbmNsdWRlIFRJRgogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MDI0NyIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBOUEFGCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiTlBBRiI7CiAgICAgICAgLy9OUEFGIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDBnYkRwIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vTlBBRiBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMGdiRHAiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIk5QQUYiOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9IG51bGw7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzA0NDYiKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgTlBBRgogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIk5QQUYiOwogICAgICAgIC8vTlBBRiBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAwZ2JEcSI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL05QQUYgUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDBnYkRxIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJOUEFGIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcwMjUxIikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIFBBTk8KICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJQQU5PIjsKICAgICAgICAvL1BBTk8gUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMGdiRHIiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9QQU5PIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAwZ2JEciI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiUEFOTyI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gbnVsbDsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MDI1NiIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBBSU1PVklHCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiQUlNT1ZJRyI7CiAgICAgICAgLy9BSU1PVklHIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDBnYkRuIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vQUlNT1ZJRyBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMGdiRG4iOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIkFJTU9WSUciOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9ICJhMkRmNDAwMDAwMDlQRU0iOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxMDI1IikgPiAtMSB8fCBkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MTAzMyIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBDb3NlbnR5eAogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIkNvc2VudHl4IjsKICAgICAgICAvL0Nvc2VudHl4IFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHMUYwMDAwMDBKeWNTIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vQ29zZW50eXggUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHMUYwMDAwMDBKeWNTIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJDb3NlbnR5eCI7CiAgICAgICAgaWYoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzEwMzMiKSA+IC0xKXsKICAgICAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiQ29zZW50eXggRGlyZWN0IHRvIFNQIjsgCiAgICAgICAgfQogICAgICAgIHpEYXRhLmNhc2VUeXBlTWFwPXsKICAgICAgICAgIjAxMmY0MDAwMDAwZ295dCIgOiAiUEVGIiwKICAgICAgICAgIjAxMmY0MDAwMDAwZ295dSIgOiAiQ29wYXkgUmVmZXJyYWwiLAogICAgICAgICAiMDEyZjQwMDAwMDBnb3owIiA6ICJQQVAgUmVmZXJyYWwiLAogICAgICAgICAiMDEyMUYwMDAwMDBEOTh6IiA6ICJCZW5lZml0IEludmVzdGlnYXRpb24iCiAgICAgICAgfTsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSAiYTJEZjQwMDAwMDA5UEVrRUFNIjsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZkNoaWxkID0gdHJ1ZTsKICAgICAgICAvL05vdCBjcmVhdGUgYSBjYXNlIHdoZW4gY2FzZSByZWNvcmQgdHlwZSBpcyBob3RsaW5lCiAgICAgICAgLy96RGF0YS5za2lwQ2FzZVR5cGVJZCA9IFsiMDEyZjQwMDAwMDBnb3l5IiwgIjAxMmY0MDAwMDAwZ295eSJdOwogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MTE1MiIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBNYXl6ZW50IFN1cHBvcnQgUHJvZ3JhbQogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIk1heXplbnQgU3VwcG9ydCBQcm9ncmFtIjsKICAgICAgICAvL01heXplbnQgU3VwcG9ydCBQcm9ncmFtIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHMjkwMDAwMDFTT3RGIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGcyOTAwMDAwMUExajEiOwogICAgICAgIC8vTWF5emVudCBTdXBwb3J0IFByb2dyYW0gUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHMjkwMDAwMDFTT3RGIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJNYXl6ZW50IFN1cHBvcnQgUHJvZ3JhbSI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gIm51bGwiOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gZG9jLmRlbGl2ZXJlZFRvOyAvL0VSUzE3MDYyNgogICAgfQogICAgYWxlcnQoIisrKyBFTkRJTkcgekRhdGEuc2V0VUFUQ29uZmlnICsrKyIpOwogICAgYWxlcnQoIkBAQCB6RGF0YS5wcm9ncmFtTmFtZSA9ICIgKyB6RGF0YS5wcm9ncmFtTmFtZSk7CiAgICBhbGVydCgiQEBAIHpEYXRhLkFmZmlsaWF0ZSA9ICIgKyB6RGF0YS5BZmZpbGlhdGUpOwp9OwoKLy9UcmFuaW5nIGNvbmZpZwp6RGF0YS5zZXRUcmFpbmluZ0NvbmZpZyA9IGZ1bmN0aW9uIChkb2MpIHsKICAgIGFsZXJ0KCIrKysgU1RBUlRJTkcgekRhdGEuc2V0VHJhaW5pbmdDb25maWcgKysrIik7CiAgICBhbGVydCgiQEBAIGRvYy5kZWxpdmVyZWRUbyA9ICIgKyBkb2MuZGVsaXZlcmVkVG8pOwogICAgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxMjg2IikgPiAtMSkgeyAvL0VSUzcwNDIxIGluZGV4T2YgaXMgc2FmZXIgIzM2NDExCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiRW50cmVzdG8gQ2VudHJhbCI7CiAgICAgICAgLy9lbnRyZXN0byBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAweW52QiI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL2VudHJlc3RvIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAweW52QiI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiRW50cmVzdG8iOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9ICJhMkRmNDAwMDAwMGNEblAiOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7IC8va3BzMTgwNDA2IHVwZGF0ZWQgdG8gaW5jbHVkZSBUSUYKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzE3NzUiKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgVE9CSQogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIlRPQkkgUG9kQ2FyZSI7CiAgICAgICAgLy9UT0JJIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDB5ejhUIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vVE9CSSBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMHl6OFQiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIlRPQkkiOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9ICJhMkRmNDAwMDAwMGNFU0kiOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7IC8va3BzMTgwNDA2IHVwZGF0ZWQgdG8gaW5jbHVkZSBUSUYKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzAyMDYiKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgTlBBRgogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIk5QQUYiOwogICAgICAgIC8vTlBBRiBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAwZ2JEcCI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL05QQUYgUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDBnYkRwIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJOUEFGIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcwNDU0IikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIE5QQUYgcHJpb3JpdHkKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJOUEFGIjsKICAgICAgICAvL05QQUYgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMGdiRHEiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9OUEFGIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAwZ2JEcSI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiTlBBRiI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gbnVsbDsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MDIwNyIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBQQU5PCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiUEFOTyI7CiAgICAgICAgLy9QQU5PIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDBnYkRyIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vUEFOTyBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMGdiRHIiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIlBBTk8iOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9IG51bGw7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzAyMTkiKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgQUlNT1ZJRwogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIkFJTU9WSUciOwogICAgICAgIC8vQUlNT1ZJRyBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAwZ2JEbiI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL0FJTU9WSUcgUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDBnYkRuIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJBSU1PVklHIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSAiYTJEZjQwMDAwMDA5UEVNIjsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MDk0MSIpID4gLTEgfHwgZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzA5NTAiKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgQ29zZW50eXgKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJDb3NlbnR5eCI7CiAgICAgICAgLy9Db3NlbnR5eCBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwRzBuMDAwMDAwcmN4WiI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL0Nvc2VudHl4IFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwRzBuMDAwMDAwcmN4WiI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiQ29zZW50eXgiOwogICAgICAgIGlmKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcwOTUwIikgPiAtMSl7CiAgICAgICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIkNvc2VudHl4IERpcmVjdCB0byBTUCI7IAogICAgICAgIH0KICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmQ2hpbGQgPSB0cnVlOwogICAgICAgIC8vTm90IGNyZWF0ZSBhIGNhc2Ugd2hlbiBjYXNlIHJlY29yZCB0eXBlIGlzIGhvdGxpbmUKICAgICAgICAvL3pEYXRhLnNraXBDYXNlVHlwZUlkID0gWyIwMTJmNDAwMDAwMGdveXkiLCAiMDEyZjQwMDAwMDBnb3l5Il07CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCItLS0tLS0tLS0tLSIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBNYXl6ZW50IFN1cHBvcnQgUHJvZ3JhbQogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIk1heXplbnQgU3VwcG9ydCBQcm9ncmFtIjsKICAgICAgICAvL01heXplbnQgU3VwcG9ydCBQcm9ncmFtIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiLS0tLS0tLS0tIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vTWF5emVudCBTdXBwb3J0IFByb2dyYW0gUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiLS0tLS0tLS0tLS0iOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIk1heXplbnQgU3VwcG9ydCBQcm9ncmFtIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gZG9jLmRlbGl2ZXJlZFRvOyAvL0VSUzE3MDYyNgogICAgfQogICAgYWxlcnQoIisrKyBFTkRJTkcgekRhdGEuc2V0VHJhaW5pbmdDb25maWcgKysrIik7CiAgICBhbGVydCgiQEBAIHpEYXRhLnByb2dyYW1OYW1lID0gIiArIHpEYXRhLnByb2dyYW1OYW1lKTsKICAgIGFsZXJ0KCJAQEAgekRhdGEuQWZmaWxpYXRlID0gIiArIHpEYXRhLkFmZmlsaWF0ZSk7Cn07Ci8vSG90Rml4IGNvbmZpZwp6RGF0YS5zZXRQcm9kQ29uZmlnID0gZnVuY3Rpb24gKGRvYykgewogICAgYWxlcnQoIisrKyBTVEFSVElORyB6RGF0YS5zZXRQcm9kQ29uZmlnICsrKyIpOwogICAgYWxlcnQoIkBAQCBkb2MuZGVsaXZlcmVkVG8gPSAiICsgZG9jLmRlbGl2ZXJlZFRvKTsKICAgIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MTIzMCIpID4gLTEgfHwgZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjg0NDI2MzU2NDQiKSA+IC0xKSB7IC8vRVJTNzA0MjEgaW5kZXhPZiBpcyBzYWZlciAjMzY0MTEKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJFbnRyZXN0byBDZW50cmFsIjsKICAgICAgICAvL2VudHJlc3RvIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDB5bnZCIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vZW50cmVzdG8gUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDB5bnZCIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJFbnRyZXN0byI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gImEyRGY0MDAwMDAwY0RuUCI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsgLy9rcHMxODA0MDYgdXBkYXRlZCB0byBpbmNsdWRlIFRJRgogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiODc3MzEwODA2MyIpID4gLTEgfHwgZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzE3NzkiKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgVE9CSQogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIlRPQkkgUG9kQ2FyZSI7CiAgICAgICAgLy9UT0JJIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDB5ejhUIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vVE9CSSBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMHl6OFQiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIlRPQkkiOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9ICJhMkRmNDAwMDAwMGNFU0kiOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7IC8va3BzMTgwNDA2IHVwZGF0ZWQgdG8gaW5jbHVkZSBUSUYKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjg1NTgxNzI3MTEiKSA+IC0xIHx8IGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcwMjc1IikgPiAtMQogICAgICAgIHx8IGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI4NjYyNzc5MzM1IikgPiAtMSB8fCBkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiODY2NDcwMTc1MCIpID4gLTEKICAgICAgICB8fCBkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiODc3MjYxNjMzMiIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBOUEFGCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiTlBBRiI7CiAgICAgICAgLy9OUEFGIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDBnYkRwIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vTlBBRiBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMGdiRHAiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIk5QQUYiOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9IG51bGw7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjg3NzQ4ODY2OTciKSA+IC0xIHx8IGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcwNDU4IikgPiAtMQogICAgICAgIHx8IGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI4MDAzNDQ5NTY3IikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIE5QQUYgcHJpb3JpdHkKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJOUEFGIjsKICAgICAgICAvL05QQUYgcHJpb3JpdHkgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMGdiRHEiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9OUEFGIHByaW9yaXR5IFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAwZ2JEcSI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiTlBBRiI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gbnVsbDsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MDI4MCIpID4gLTEgfHwgZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjg4ODg5MTQ5MjQiKSA+IC0xCiAgICAgICAgfHwgZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjg2NjI3Mjk0MzkiKSA+IC0xIHx8IGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI4Nzc3MDUyMjgyIikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIFBBTk8KICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJQQU5PIjsKICAgICAgICAvL1BBTk8gUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMGdiRHIiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9QQU5PIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAwZ2JEciI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiUEFOTyI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gbnVsbDsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiODMzODczMTQ5OSIpID4gLTEgfHwgZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzAyODIiKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgQUlNT1ZJRwogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIkFJTU9WSUciOwogICAgICAgIC8vQUlNT1ZJRyBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAwZ2JEbiI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL0FJTU9WSUcgUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDBnYkRuIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJBSU1PVklHIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSAiYTJEZjQwMDAwMDA5UEVNRUEyIjsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiODAwMzQzOTExNyIpID4gLTEgfHwgZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjgwMDM5MzQ2NzUiKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgQ29zZW50eXgKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJDb3NlbnR5eCI7CiAgICAgICAgLy9Db3NlbnR5eCBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAzMGFrcCI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL0Nvc2VudHl4IFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAzMGFrcCI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiQ29zZW50eXgiOwogICAgICAgIGlmKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI4MDAzOTM0Njc1IikgPiAtMSl7CiAgICAgICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIkNvc2VudHl4IERpcmVjdCB0byBTUCI7IAogICAgICAgIH0KICAgICAgICB6RGF0YS5jYXNlVHlwZU1hcD17CiAgICAgICAgIjAxMmY0MDAwMDAwZ295dCIgOiAiUEVGIiwKICAgICAgICAiMDEyZjQwMDAwMDBnb3l1IiA6ICJDb3BheSBSZWZlcnJhbCIsCiAgICAgICAgIjAxMmY0MDAwMDAwZ296MCIgOiAiUEFQIFJlZmVycmFsIiwKICAgICAgICAiMDEyZjQwMDAwMDBPUzBSIiA6ICJCZW5lZml0IEludmVzdGlnYXRpb24iCiAgICAgICAgfTsKICAgICAgICAvL3pEYXRhLnByb2R1Y3RJZCA9ICJhMkQyOTAwMDAwMFNQTEkiOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9ICJhMkRmNDAwMDAwMDlQRWtFQU0iOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmQ2hpbGQgPSB0cnVlOwogICAgICAgIC8vTm90IGNyZWF0ZSBhIGNhc2Ugd2hlbiBjYXNlIHJlY29yZCB0eXBlIGlzIGhvdGxpbmUKICAgICAgICAvL3pEYXRhLnNraXBDYXNlVHlwZUlkID0gWyIwMTJmNDAwMDAwMGdveXkiLCAiMDEyZjQwMDAwMDBnb3l5Il07CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCIwMDAwMDAwMDAwIikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIE1heXplbnQgU3VwcG9ydCBQcm9ncmFtCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiTWF5emVudCBTdXBwb3J0IFByb2dyYW0iOwogICAgICAgIC8vTWF5emVudCBTdXBwb3J0IFByb2dyYW0gUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICItLS0tLS0tLS0tLSI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL01heXplbnQgU3VwcG9ydCBQcm9ncmFtIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIi0tLS0tLS0tLS0tLSI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiQUlNT1ZJRyI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gIm51bGwiOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gZG9jLmRlbGl2ZXJlZFRvOyAvL0VSUzE3MDYyNgogICAgfQogICAgYWxlcnQoIisrKyBFTkRJTkcgekRhdGEuc2V0UHJvZENvbmZpZyArKysiKTsKICAgIGFsZXJ0KCJAQEAgekRhdGEucHJvZ3JhbU5hbWUgPSAiICsgekRhdGEucHJvZ3JhbU5hbWUpOwogICAgYWxlcnQoIkBAQCB6RGF0YS5BZmZpbGlhdGUgPSAiICsgekRhdGEuQWZmaWxpYXRlKTsKfTsKCgovL1BST0QgY29uZmlnCnpEYXRhLnNldFByb2RDb25maWcgPSBmdW5jdGlvbiAoZG9jKSB7CiAgICBhbGVydCgiKysrIFNUQVJUSU5HIHpEYXRhLnNldFByb2RDb25maWcgKysrIik7CiAgICBhbGVydCgiQEBAIGRvYy5kZWxpdmVyZWRUbyA9ICIgKyBkb2MuZGVsaXZlcmVkVG8pOwogICAgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxMjMwIikgPiAtMSB8fCBkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiODQ0MjYzNTY0NCIpID4gLTEpIHsgLy9FUlM3MDQyMSBpbmRleE9mIGlzIHNhZmVyICMzNjQxMQogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIkVudHJlc3RvIENlbnRyYWwiOwogICAgICAgIC8vZW50cmVzdG8gUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMHludkIiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9lbnRyZXN0byBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMHludkIiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIkVudHJlc3RvIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSAiYTJEZjQwMDAwMDBjRG5QIjsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOyAvL2twczE4MDQwNiB1cGRhdGVkIHRvIGluY2x1ZGUgVElGCiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI4NzczMTA4MDYzIikgPiAtMSB8fCBkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MTc3OSIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBUT0JJCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiVE9CSSBQb2RDYXJlIjsKICAgICAgICAvL1RPQkkgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMHl6OFQiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9UT0JJIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAweXo4VCI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiVE9CSSI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gImEyRGY0MDAwMDAwY0VTSSI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsgLy9rcHMxODA0MDYgdXBkYXRlZCB0byBpbmNsdWRlIFRJRgogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiODU1ODE3MjcxMSIpID4gLTEgfHwgZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzAyNzUiKSA+IC0xCiAgICAgICAgfHwgZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjg2NjI3NzkzMzUiKSA+IC0xIHx8IGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI4NjY0NzAxNzUwIikgPiAtMQogICAgICAgIHx8IGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI4NzcyNjE2MzMyIikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIE5QQUYKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJOUEFGIjsKICAgICAgICAvL05QQUYgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMGdiRHAiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9OUEFGIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAwZ2JEcCI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiTlBBRiI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gbnVsbDsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiODc3NDg4NjY5NyIpID4gLTEgfHwgZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzA0NTgiKSA+IC0xCiAgICAgICAgfHwgZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjgwMDM0NDk1NjciKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgTlBBRiBwcmlvcml0eQogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIk5QQUYiOwogICAgICAgIC8vTlBBRiBwcmlvcml0eSBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAwZ2JEcSI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL05QQUYgcHJpb3JpdHkgUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDBnYkRxIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJOUEFGIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcwMjgwIikgPiAtMSB8fCBkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiODg4ODkxNDkyNCIpID4gLTEKICAgICAgICB8fCBkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiODY2MjcyOTQzOSIpID4gLTEgfHwgZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjg3NzcwNTIyODIiKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgUEFOTwogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIlBBTk8iOwogICAgICAgIC8vUEFOTyBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAwZ2JEciI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL1BBTk8gUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDBnYkRyIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJQQU5PIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI4MzM4NzMxNDk5IikgPiAtMSB8fCBkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MDI4MiIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBBSU1PVklHCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiQUlNT1ZJRyI7CiAgICAgICAgLy9BSU1PVklHIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDBnYkRuIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vQUlNT1ZJRyBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMGdiRG4iOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIkFJTU9WSUciOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9ICJhMkRmNDAwMDAwMDlQRU1FQTIiOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI4MDAzNDM5MTE3IikgPiAtMSB8fCBkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiODAwMzkzNDY3NSIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBDb3NlbnR5eAogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIkNvc2VudHl4IjsKICAgICAgICAvL0Nvc2VudHl4IFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDMwYWtwIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vQ29zZW50eXggUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDMwYWtwIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJDb3NlbnR5eCI7CiAgICAgICAgaWYoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjgwMDM5MzQ2NzUiKSA+IC0xKXsKICAgICAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiQ29zZW50eXggRGlyZWN0IHRvIFNQIjsgCiAgICAgICAgfQogICAgICAgIHpEYXRhLmNhc2VUeXBlTWFwPXsKICAgICAgICAiMDEyZjQwMDAwMDBnb3l0IiA6ICJQRUYiLAogICAgICAgICIwMTJmNDAwMDAwMGdveXUiIDogIkNvcGF5IFJlZmVycmFsIiwKICAgICAgICAiMDEyZjQwMDAwMDBnb3owIiA6ICJQQVAgUmVmZXJyYWwiLAogICAgICAgICIwMTJmNDAwMDAwME9TMFIiIDogIkJlbmVmaXQgSW52ZXN0aWdhdGlvbiIKICAgICAgICB9OwogICAgICAgIC8vekRhdGEucHJvZHVjdElkID0gImEyRDI5MDAwMDAwU1BMSSI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gImEyRGY0MDAwMDAwOVBFa0VBTSI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmZDaGlsZCA9IHRydWU7CiAgICAgICAgLy9Ob3QgY3JlYXRlIGEgY2FzZSB3aGVuIGNhc2UgcmVjb3JkIHR5cGUgaXMgaG90bGluZQogICAgICAgIC8vekRhdGEuc2tpcENhc2VUeXBlSWQgPSBbIjAxMmY0MDAwMDAwZ295eSIsICIwMTJmNDAwMDAwMGdveXkiXTsKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjAwMDAwMDAwMDAiKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgTWF5emVudCBTdXBwb3J0IFByb2dyYW0KICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJNYXl6ZW50IFN1cHBvcnQgUHJvZ3JhbSI7CiAgICAgICAgLy9NYXl6ZW50IFN1cHBvcnQgUHJvZ3JhbSBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIi0tLS0tLS0tLS0tIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vTWF5emVudCBTdXBwb3J0IFByb2dyYW0gUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiLS0tLS0tLS0tLS0tIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJBSU1PVklHIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSAibnVsbCI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSBkb2MuZGVsaXZlcmVkVG87IC8vRVJTMTcwNjI2CiAgICB9CiAgICBhbGVydCgiKysrIEVORElORyB6RGF0YS5zZXRQcm9kQ29uZmlnICsrKyIpOwogICAgYWxlcnQoIkBAQCB6RGF0YS5wcm9ncmFtTmFtZSA9ICIgKyB6RGF0YS5wcm9ncmFtTmFtZSk7CiAgICBhbGVydCgiQEBAIHpEYXRhLkFmZmlsaWF0ZSA9ICIgKyB6RGF0YS5BZmZpbGlhdGUpOwp9OwoKLyogdGhpcyBpcyBhbiB1bnRlc3RlZCBmdW5jdGlvbiB0byBkZXRlY3QgdGhlIHNhbmRib3ggbmFtZSBhbmQgYXNzaWduIHZhbHVlcyAqLyAvL0VSUzE3MDUyMiBhY3RpdmF0aW5nCnpEYXRhLm9yZ1N3aXRjaCA9IGZ1bmN0aW9uIChkb2MpIHsgLy9FUlMxNzA1MTIKICAgIGFsZXJ0KCJzZlVzZXIgaXMgKioqKioqKiA6OiAiICsgZG9jLnNmVXNlck5hbWUpOwogICAgdmFyIHNmVXNlck5hbWUgPSBkb2Muc2ZVc2VyTmFtZS50b1VwcGVyQ2FzZSgpOwogICAgaWYgKHNmVXNlck5hbWUuaW5kZXhPZigiREVWIikgPiAtMSkgewogICAgICAgIGFsZXJ0KCJAQEAgSW4gdGhlIERFViBvcmchIik7CiAgICAgICAgekRhdGEuc2V0RGV2Q29uZmlnKGRvYyk7CiAgICB9IGVsc2UgaWYgKHNmVXNlck5hbWUuaW5kZXhPZigiSG90Rml4IikgPiAtMSkgewogICAgICAgIGFsZXJ0KCJAQEAgSW4gdGhlIE1vY2sgSG90Rml4IG9yZyEiKTsKICAgICAgICB6RGF0YS5zZXRIb3RGaXhDb25maWcoZG9jKTsKICAgIH0gZWxzZSBpZiAoc2ZVc2VyTmFtZS5pbmRleE9mKCJURVNUIikgPiAtMSkgewogICAgICAgIGFsZXJ0KCJAQEAgSW4gdGhlIFRFU1Qgb3JnISIpOwogICAgICAgIHpEYXRhLnNldFRlc3RDb25maWcoZG9jKTsKICAgIH0gZWxzZSBpZiAoc2ZVc2VyTmFtZS5pbmRleE9mKCJUUkFJTklORyIpID4gLTEpIHsKICAgICAgICBhbGVydCgiQEBAIEluIHRoZSBUUkFJTklORyBvcmchIik7CiAgICAgICAgekRhdGEuc2V0VHJhaW5pbmdDb25maWcoZG9jKTsKICAgIH0gZWxzZSBpZiAoc2ZVc2VyTmFtZS5pbmRleE9mKCJTSVQiKSA+IC0xKSB7CiAgICAgICAgYWxlcnQoIkBAQCBJbiB0aGUgU0lUIG9yZyEiKTsKICAgICAgICB6RGF0YS5zZXRTSVRDb25maWcoZG9jKTsKICAgIH0gZWxzZSBpZiAoc2ZVc2VyTmFtZS5pbmRleE9mKCJVQVQiKSA+IC0xKSB7CiAgICAgICAgYWxlcnQoIkBAQCBJbiB0aGUgVUFUIG9yZyEiKTsKICAgICAgICB6RGF0YS5zZXRVQVRDb25maWcoZG9jKTsKICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQoIkBAQCBJbiB0aGUgUFJPRCBvcmchIik7CiAgICAgICAgekRhdGEuc2V0UHJvZENvbmZpZyhkb2MpOwogICAgfQp9Owp6RGF0YS5vcmdTd2l0Y2goZG9jKTsgLy9FUlMxNzA4MjIKCi8qIFRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgYWRkZWQgdG8gZXZlcnkgcnVsZSB0byBoZWxwIGFzc3VyZSB0aGF0IHJ1bGVzIGRvIG5vdCBnZXQgYWNjaWRlbnRhbGx5IHRyaWdnZXJlZCAqLwovKiBBZGQgdGhpcyBmdW5jdGlvbmFsaXR5IHRvIHRoZSBydWxlcyBlbmdpbmUgaXRzZWxmPyAqLwp6RGF0YS5jbGVhclRyaWdnZXJDb25kaXRpb24gPSBmdW5jdGlvbiAoZG9jLCB0cmlnZ2VyRmllbGQpIHsgLy9FUlMxNzA1MTIgbW92ZWQgdG8gbGlicmFyeQogICAgdmFyIGFyck9mUGFpcnMgPSBbXTsKICAgIGFyck9mUGFpcnMucHVzaCh0cmlnZ2VyRmllbGQsICIiKTsKICAgIHVwZGF0ZURCKGRvYywgYXJyT2ZQYWlycyk7Cn07Cgp6RGF0YS5pbml0aWFsaXplU3RhY2sgPSBmdW5jdGlvbiAoZG9jLCBzdGFja0ZvbGRlciwgc3RhY2tJZCkgeyAvL0VSUzE3MDUxMiBtb3ZlZCB0byBsaWJyYXJ5CiAgICB2YXIgYXJyT2ZQYWlycyA9IFtdOwogICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsKICAgIHZhciBjdXJNb250aCA9IHRvZGF5LmdldE1vbnRoKCkgKyAxOwogICAgdmFyIGZpbmFsUm9vdEZvbGRlciA9IHpEYXRhLnByb2dyYW1OYW1lICsgIi1BcmNoaXZlIjsgLy9iYXRlcyBvZiB0aGUgQXJjaGl2ZSBmb2xkZXIKICAgIHZhciB5eXl5TU1Gb2xkZXJOYW1lID0gdG9kYXkuZ2V0RnVsbFllYXIoKSArIChjdXJNb250aCA+IDkgPyBjdXJNb250aCArICIiIDogIjAiICsgY3VyTW9udGgpOwogICAgdmFyIHl5eXlNTUZvbGRlciA9IGZpbmFsUm9vdEZvbGRlciArICItIiArIHl5eXlNTUZvbGRlck5hbWU7CiAgICBhbGVydCgiQEBAIHN0YWNrRm9sZGVyIGlzIC0gIiArIHN0YWNrRm9sZGVyKTsKICAgIGFsZXJ0KCJAQEAgZmluYWxSb290Rm9sZGVyIGlzIC0gIiArIGZpbmFsUm9vdEZvbGRlcik7CiAgICBhbGVydCgiQEBAIHl5TU1Gb2xkZXIgaXMgLSAiICsgeXl5eU1NRm9sZGVyKTsKICAgIGFsZXJ0KCJAQEAgY3JlYXRpbmcgbmV3IHN0YWNrIGRlc3RpbmFpb24gZm9sZGVyIHdpdGggbmFtZSAtICIgKyBzdGFja0ZvbGRlcik7CiAgICAvKiBSZWZyZXNoIHRoZSBjdXJyZW50IGZvbGRlciAqLwogICAgcmVsb2FkQnlJZChkb2MsIFgoZG9jLCAiWF9jdXJGb2xkZXIiKSk7CiAgICAvKiBzYW1lIHZhbHVlIGZvciBCQVRFUyBhbmQgbGFiZWwgKi8KICAgIC8qIFRoZSBmb2xkZXIgc3RydWN0dXJlIHdpbGwgbG9vayBsaWtlIHRoaXM6IC8yMDE2MDgvM0NYM0NYLzEyMzQ1Njc4OS1TVEFDSyAqLwogICAgY3JlYXRlRm9sZGVyKGRvYywgZmluYWxSb290Rm9sZGVyLCB5eXl5TU1Gb2xkZXIsIHl5eXlNTUZvbGRlck5hbWUpOwogICAgY3JlYXRlRm9sZGVyKGRvYywgeXl5eU1NRm9sZGVyLCBzdGFja0ZvbGRlciwgc3RhY2tGb2xkZXIpOwogICAgYWxlcnQoIkBAQEAgTW92aW5nIHRoZSBzdGFjayBkb2N1bWVudCBpbnRvIHRoZSBzdGFjayBmb2xkZXI6ICIgKyBzdGFja0ZvbGRlcik7CiAgICBtb3ZlRG9jdW1lbnQoZG9jLCAiIiwgc3RhY2tGb2xkZXIpOwogICAgYXJyT2ZQYWlycy5wdXNoKCJYX2luZGV4SW5pdGlhbGl6ZWQiLCAidHJ1ZSIpOwogICAgYXJyT2ZQYWlycy5wdXNoKCJYX3N0YWNrIiwgc3RhY2tJZCk7CiAgICBhcnJPZlBhaXJzLnB1c2goImRiLUJBVEVTIiwgZG9jLmtiRGF0YS5ncm91cElELnN1YnN0cmluZygxKSArICItIiArIHN0YWNrSWQgKyAiLVNUQUNLIik7CiAgICAvKiBTdGFjayBMYWJlbGxpbmcgQ2hhbmdlICovCiAgICAvL01TSDE4MTAwNCB1bnVzZWQgdmFyIGR0U3RhbXAgPSBnZXRDdXJEYXRlQW5kVGltZShkb2MsIGZhbHNlKTsKICAgIC8qIGFyck9mUGFpcnMucHVzaCgiZGItbGFiZWwiLCJTdGFjayAtICIgKyBkdFN0YW1wKTsgKi8KICAgIHVwZGF0ZURCKGRvYywgYXJyT2ZQYWlycyk7Cn07Cgp6RGF0YS5jb3VudFBhZ2VzID0gZnVuY3Rpb24gKGRvYywgcGFnZVJhbmdlKSB7IC8vRVJTMTcwNTEyIG1vdmVkIHRvIGxpYnJhcnkKICAgIHZhciBwYWdlcyA9IHBhZ2VSYW5nZS5zcGxpdCgiLCIpOwogICAgaWYgKCFwYWdlcykgewogICAgICAgIHBhZ2VzID0gW3BhZ2VSYW5nZV07CiAgICB9CiAgICByZXR1cm4gcGFnZXMubGVuZ3RoICsgIiI7Cn07Cgp6RGF0YS5leHBvc2VQREYgPSBmdW5jdGlvbiAoZG9jLCBzZklkLCBwYWdlUmFuZ2UpIHsgLy9FUlMxNzA1MjIgYWRkZWQgcGFnZVJhbmdlCiAgICB2YXIgZm9ybWF0Tm93ID0gZ2V0Q3VyRGF0ZUFuZFRpbWUoZG9jLCBmYWxzZSwgdHJ1ZSk7CiAgICB2YXIgYXJyT2ZQYWlycyA9IFtdOwogICAgdmFyIG5vd1RpbWVTdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgIiI7CiAgICB2YXIgZmlsZU5hbWUgPSBnZXRDdXJEYXRlKGRvYykgKyAiIE5ldyBGYXgucGRmIjsKCiAgICBhbGVydCgiQEBAZmlsZU5hbWUgPSAiICsgZmlsZU5hbWUpOwogICAgY3JlYXRlRGlyZWN0b3J5KGRvYywgekRhdGEudXBsb2FkRGlyLCBub3dUaW1lU3RhbXApOwoKICAgIC8vQU4xNzA1MjIgc2hvdWxkIHhQYWdlcyBiZSBwYXNzZWQgaW4gYXMgYSB2YXJpYWJsZT8KICAgIHZhciB4UGFnZXMgPSBYKGRvYywgIlhfcG9zaXRpb24iKTsKICAgIGlmIChwYWdlUmFuZ2UpIHsKICAgICAgICB4UGFnZXMgPSBwYWdlUmFuZ2U7IC8vRVJTMTcwNTIyCiAgICB9CiAgICBhbGVydCgiQEBAQEAgQ2FsbGluZyBzcGxpdFBERiB0byBzcGxpdCBvZmYgcGFnZXMgdG8gdXBsb2FkIGFzIFBERiwgcGFnZXMgPSAiICsgeFBhZ2VzICsgIiwgbm93VGltZVN0YW1wID0gIiArIG5vd1RpbWVTdGFtcCk7CiAgICB2YXIgcmVzcG9uc2UgPSBzcGxpdFBERihkb2MsIHhQYWdlcywgekRhdGEudXBsb2FkRGlyLCBub3dUaW1lU3RhbXAsIGZpbGVOYW1lKTsKICAgIGFsZXJ0KCJAQEBAIHJlc3BvbnNlIGZyb20gc3BsaXRQREYgPSAiICsgcmVzcG9uc2UpOwogICAgdmFyIG5ld1BERk5hbWUgPSBYKGRvYywgIm5ld1BERiIsIHJlc3BvbnNlKTsKICAgIGFsZXJ0KCJAQEBAIHNwbGl0IFBERiBGaWxlTmFtZSA9ICIgKyBuZXdQREZOYW1lKTsKICAgIHZhciB1cGxvYWRVUkwgPSAiaHR0cDovL2xvY2FsaG9zdDo4MDgwL215ZmlsZWZvcmNlL3VwbG9hZFRvQ2xvdWQuanNwP1NGaWQ9TkVXJlNGcGlkPSIgKyBzZklkICsgIiZTRm9yZz0iICsgZG9jLnNmT3JnICsgIiZsYWJlbD0iICsgZmlsZU5hbWUgKyAiJnNlcnZlckZpbGU9IiArIG5ld1BERk5hbWUgKyAiJkRlc2NyaXB0aW9uPUZpbGUgYXR0YWNoZWQgYXMgUERGIjsKICAgIGFsZXJ0KCIjIyMjIFVwbG9hZCBuYXRpdmUgUERGIHdpdGggIiArIHVwbG9hZFVSTCk7CiAgICB2YXIgciA9IHdnZXQoZG9jLCB1cGxvYWRVUkwpOyAvL0VSUzE3MDUxMiB3YXMgekRhdGEudXBsb2FkVVJMCiAgICBhbGVydCgiIyMjIyBGYXggUmVjZWl2ZWQuIEF0dGFjaGVkIHRvOiAiICsgc2ZJZCk7CiAgICAvLyBGaW5hbGx5LCBkZWxldGUgdGhlIGZvbGRlciBhbmQgYWxsIGNvbnRlbnRzLgogICAgY2xlYW51cERpcmVjdG9yeShkb2MsIHpEYXRhLnVwbG9hZERpciwgbm93VGltZVN0YW1wKTsKICAgIC8vIE5vdyBzZXQgdGhlIGxhYmVsIGluIG91ciBTbmlwcGV0CiAgICBhcnJPZlBhaXJzID0gW107CiAgICBhcnJPZlBhaXJzLnB1c2goImRiLWxhYmVsIiwgIk5ldyBmaWxlICIgKyBmb3JtYXROb3cpOwogICAgYXJyT2ZQYWlycy5wdXNoKCJkYi1CQVRFUyIsIHNmSWQgKyAiLVNUQUNLIik7CiAgICB1cGRhdGVEQihkb2MsIGFyck9mUGFpcnMpOwp9OwovKiBFTkQgKi8="},"ordinal":0}

//--- RULE JSON REPRESENTATION - END ---

//--- RULE CONSEQUENCE CODE ---
//global variables
zData.uploadDir = "integrationDir";

// Queue SFID
zData.patEnrollQueueId = ""; //Need to add this queue in Setup
zData.recTypeRequest = "0124C000000Cj5Y"; //ID of the Case Record Type Request_PS_MVN
zData.programName = null;
zData.Affiliate = "";
zData.sourceName = "Fax";
//MSH180408 zData.productId = "";
zData.productId = null;
//Queue SFID as owner for zStack
zData.ownerId = null;
//program SFID
zData.programId = null;
zData.classification = null;
zData.skipCaseTypeId = null;
zData.generateTiff = false;
zData.generateTiffChild = false; //ERS190317 #57336 needed a comment testing X_dependencies
zData.caseTypeMap = null;
//CRN170324 TODO doc.clone() done right;
zData.clone = function (doc) {
    var doc0 = [];
    for (var i in doc) {
        doc0[i] = doc[i];
    }
    return doc0;
};
// DEV config
zData.setDevConfig = function (doc) {
    alert("+++ STARTING zData.setDevConfig +++");
    alert("@@@ doc.deliveredTo = " + doc.deliveredTo);
    if (doc.deliveredTo.indexOf("6787271409") > -1) {
        zData.programName = "Entresto Central";
        //entresto Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000ynvB";
        //program SFID
        zData.programId = "a0g5C000000G7NA";
        //entresto Queue SFID
        zData.patEnrollQueueId = "00Gf4000000ynvB";
        zData.classification = "Entresto";
        zData.productId = "a2D5C000000IV8k";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("6787271766") > -1) {
        //zData for TOBI
        zData.programName = "TOBI PodCare";
        //TOBI Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000yz8T";
        //program SFID
        zData.programId = "a0g5C000000G7NA";
        //TOBI Queue SFID
        zData.patEnrollQueueId = "00Gf4000000yz8T";
        zData.classification = "TOBI";
        zData.productId = "a2D5C000000IV8j";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("6787270206") > -1) {
        //zData for NPAF
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDp";
        //program SFID
        zData.programId = "a0g5C000000G7NA";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDp";
        zData.classification = "NPAF";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270442") > -1) {
        //zData for NPAF Priority
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDq";
        //program SFID
        zData.programId = "a0g5C000000G7NA";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDq";
        zData.classification = "NPAF";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270207") > -1) {
        //zData for PANO
        zData.programName = "PANO";
        //PANO Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDr";
        //program SFID
        zData.programId = "a0g5C000000G7NA";
        //PANO Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDr";
        zData.classification = "PANO";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270219") > -1) {
        //zData for AIMOVIG
        zData.programName = "AIMOVIG";
        //AIMOVIG Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDn";
        //program SFID
        zData.programId = "a0g5C000000G7NA";
        //AIMOVIG Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDn";
        zData.classification = "AIMOVIG";
        zData.productId = "a2D5C000000IV7N";
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787271035") > -1 || doc.deliveredTo.indexOf("6787271042") > -1) {
        //zData for Cosentyx
        zData.programName = "Cosentyx";
        //Cosentyx Queue SFID as owner for zStack
        zData.ownerId = "00G5C000001UEnx";
        //program SFID
        zData.programId = "a0g5C000000G7NA";
        //Cosentyx Queue SFID
        zData.patEnrollQueueId = "00G5C000001UEnx";
        zData.classification = "Cosentyx";
        if(doc.deliveredTo.indexOf("6787271042") > -1){
            zData.classification = "Cosentyx Direct to SP"; 
        }
         zData.caseTypeMap={
            "012f4000000goyt" : "PEF",
            "012f4000000goyu" : "Copay Referral",
            "012f4000000goz0" : "PAP Referral",
            "0125C000000F1yk" : "Benefit Investigation"
        };
        //zData.productId = "a2D29000000SPLI";
        zData.productId = "a2D5C000000IV7l";
        zData.generateTiff = true;
        zData.generateTiffChild = true;
        //Not create a case when case record type is hotline
        //zData.skipCaseTypeId = ["012f4000000goyy", "012f4000000goyy"];
    } else if (doc.deliveredTo.indexOf("6787271141") > -1) {
        //zData for Mayzent Support Program
        zData.programName = "Mayzent Support Program";
        //Mayzent Support Program Queue SFID as owner for zStack
        zData.ownerId = "00G5C000001UEo2";
        //program SFID
        zData.programId = "a0g5C000000G7NA";
        //Mayzent Support Program Queue SFID
        zData.patEnrollQueueId = "00G5C000001UEo2";
        zData.classification = "Mayzent Support Program";
        zData.productId = null;
        zData.generateTiff = true;
    } else {
        zData.programName = "No Program Identified";
    }
    alert("+++ ENDING zData.setDevConfig +++");
    alert("@@@ zData.programName = " + zData.programName);
    alert("@@@ zData.programId = " + zData.programId);
    alert("@@@ zData.ownerId = " + zData.ownerId);
    alert("@@@ zData.patEnrollQueueId = " + zData.patEnrollQueueId);
    alert("@@@ zData.classification = " + zData.classification);
};

// SIT config
zData.setSITConfig = function (doc) {
    alert("+++ STARTING zData.setSITConfig +++");
    alert("@@@ doc.deliveredTo = " + doc.deliveredTo);
    if (doc.deliveredTo.indexOf("6787271208") > -1) {
        zData.programName = "Entresto Central";
        //entresto Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000ynvB";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //entresto Queue SFID
        zData.patEnrollQueueId = "00Gf4000000ynvB";
        zData.classification = "Entresto";
        zData.productId = "a2Df4000000cDnP";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("6787271210") > -1) {
        //zData for TOBI
        zData.programName = "TOBI PodCare";
        //TOBI Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000yz8T";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //TOBI Queue SFID
        zData.patEnrollQueueId = "00Gf4000000yz8T";
        zData.classification = "TOBI";
        zData.productId = "a2Df4000000cESI";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("6787271216") > -1) {
        //zData for NPAF
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDp";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDp";
        zData.classification = "NPAF";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787271218") > -1) {
        //zData for NPAF
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDq";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDq";
        zData.classification = "NPAF";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787271221") > -1) {
        //zData for PANO
        zData.programName = "PANO";
        //PANO Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDr";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //PANO Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDr";
        zData.classification = "PANO";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787271225") > -1) {
        //zData for AIMOVIG
        zData.programName = "AIMOVIG";
        //AIMOVIG Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDn";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //AIMOVIG Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDn";
        zData.classification = "AIMOVIG";
        zData.productId = "a2Df40000009PEM";
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270937") > -1 || doc.deliveredTo.indexOf("6787270953") > -1) {
        //zData for Cosentyx
        zData.programName = "Cosentyx";
        //Cosentyx Queue SFID as owner for zStack
        zData.ownerId = "00Gf40000030akp";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //Cosentyx Queue SFID
        zData.patEnrollQueueId = "00Gf40000030akp";
        zData.classification = "Cosentyx";
        if(doc.deliveredTo.indexOf("6787270953") > -1){
            zData.classification = "Cosentyx Direct to SP"; 
        }
        zData.caseTypeMap={
        "012f4000000goyt" : "PEF",
        "012f4000000goyu" : "Copay Referral",
        "012f4000000goz0" : "PAP Referral",
        "012f4000000OS0R" : "Benefit Investigation"
        };
        zData.productId = "a2Df40000009PEkEAM";
        zData.generateTiff = true;
        zData.generateTiffChild = true;
        //Not create a case when case record type is hotline
        //zData.skipCaseTypeId = ["012f4000000goyy", "012f4000000goyy"];
    } else if (doc.deliveredTo.indexOf("6787271147") > -1) {
        //zData for Mayzent Support Program
        zData.programName = "Mayzent Support Program";
        //Mayzent Support Program Queue SFID as owner for zStack
        zData.ownerId = "00G5B000001DqUi";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //Mayzent Support Program Queue SFID
        zData.patEnrollQueueId = "00G5B000001DqUi";
        zData.classification = "Mayzent Support Program";
        zData.productId = null;
        zData.generateTiff = true;
    } else {
        zData.programName = doc.deliveredTo; //ERS170626
    }
    alert("+++ ENDING zData.setSITConfig +++");
    alert("@@@ zData.programName = " + zData.programName);
    alert("@@@ zData.programId = " + zData.programId);
    alert("@@@ zData.ownerId = " + zData.ownerId);
    alert("@@@ zData.patEnrollQueueId = " + zData.patEnrollQueueId);
    alert("@@@ zData.classification = " + zData.classification);
};
// UAT config
zData.setUATConfig = function (doc) {
    alert("+++ STARTING zData.setUATConfig +++");
    alert("@@@ doc.deliveredTo = " + doc.deliveredTo);
    if (doc.deliveredTo.indexOf("6787271437") > -1) { //ERS70421 indexOf is safer #36411
        zData.programName = "Entresto Central";
        //entresto Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000ynvB";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //entresto Queue SFID
        zData.patEnrollQueueId = "00Gf4000000ynvB";
        zData.classification = "Entresto";
        zData.productId = "a2Df4000000cDnP";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("6787271785") > -1) {
        //zData for TOBI
        zData.programName = "TOBI PodCare";
        //TOBI Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000yz8T";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //TOBI Queue SFID
        zData.patEnrollQueueId = "00Gf4000000yz8T";
        zData.classification = "TOBI";
        zData.productId = "a2Df4000000cESI";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("6787270247") > -1) {
        //zData for NPAF
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDp";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDp";
        zData.classification = "NPAF";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270446") > -1) {
        //zData for NPAF
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDq";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDq";
        zData.classification = "NPAF";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270251") > -1) {
        //zData for PANO
        zData.programName = "PANO";
        //PANO Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDr";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //PANO Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDr";
        zData.classification = "PANO";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270256") > -1) {
        //zData for AIMOVIG
        zData.programName = "AIMOVIG";
        //AIMOVIG Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDn";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //AIMOVIG Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDn";
        zData.classification = "AIMOVIG";
        zData.productId = "a2Df40000009PEM";
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787271025") > -1 || doc.deliveredTo.indexOf("6787271033") > -1) {
        //zData for Cosentyx
        zData.programName = "Cosentyx";
        //Cosentyx Queue SFID as owner for zStack
        zData.ownerId = "00G1F000000JycS";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //Cosentyx Queue SFID
        zData.patEnrollQueueId = "00G1F000000JycS";
        zData.classification = "Cosentyx";
        if(doc.deliveredTo.indexOf("6787271033") > -1){
            zData.classification = "Cosentyx Direct to SP"; 
        }
        zData.caseTypeMap={
         "012f4000000goyt" : "PEF",
         "012f4000000goyu" : "Copay Referral",
         "012f4000000goz0" : "PAP Referral",
         "0121F000000D98z" : "Benefit Investigation"
        };
        zData.productId = "a2Df40000009PEkEAM";
        zData.generateTiff = true;
        zData.generateTiffChild = true;
        //Not create a case when case record type is hotline
        //zData.skipCaseTypeId = ["012f4000000goyy", "012f4000000goyy"];
    } else if (doc.deliveredTo.indexOf("6787271152") > -1) {
        //zData for Mayzent Support Program
        zData.programName = "Mayzent Support Program";
        //Mayzent Support Program Queue SFID as owner for zStack
        zData.ownerId = "00G29000001SOtF";
        //program SFID
        zData.programId = "a0g29000001A1j1";
        //Mayzent Support Program Queue SFID
        zData.patEnrollQueueId = "00G29000001SOtF";
        zData.classification = "Mayzent Support Program";
        zData.productId = "null";
        zData.generateTiff = true;
    } else {
        zData.programName = doc.deliveredTo; //ERS170626
    }
    alert("+++ ENDING zData.setUATConfig +++");
    alert("@@@ zData.programName = " + zData.programName);
    alert("@@@ zData.Affiliate = " + zData.Affiliate);
};

//Traning config
zData.setTrainingConfig = function (doc) {
    alert("+++ STARTING zData.setTrainingConfig +++");
    alert("@@@ doc.deliveredTo = " + doc.deliveredTo);
    if (doc.deliveredTo.indexOf("6787271286") > -1) { //ERS70421 indexOf is safer #36411
        zData.programName = "Entresto Central";
        //entresto Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000ynvB";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //entresto Queue SFID
        zData.patEnrollQueueId = "00Gf4000000ynvB";
        zData.classification = "Entresto";
        zData.productId = "a2Df4000000cDnP";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("6787271775") > -1) {
        //zData for TOBI
        zData.programName = "TOBI PodCare";
        //TOBI Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000yz8T";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //TOBI Queue SFID
        zData.patEnrollQueueId = "00Gf4000000yz8T";
        zData.classification = "TOBI";
        zData.productId = "a2Df4000000cESI";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("6787270206") > -1) {
        //zData for NPAF
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDp";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDp";
        zData.classification = "NPAF";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270454") > -1) {
        //zData for NPAF priority
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDq";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDq";
        zData.classification = "NPAF";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270207") > -1) {
        //zData for PANO
        zData.programName = "PANO";
        //PANO Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDr";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //PANO Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDr";
        zData.classification = "PANO";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270219") > -1) {
        //zData for AIMOVIG
        zData.programName = "AIMOVIG";
        //AIMOVIG Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDn";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //AIMOVIG Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDn";
        zData.classification = "AIMOVIG";
        zData.productId = "a2Df40000009PEM";
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270941") > -1 || doc.deliveredTo.indexOf("6787270950") > -1) {
        //zData for Cosentyx
        zData.programName = "Cosentyx";
        //Cosentyx Queue SFID as owner for zStack
        zData.ownerId = "00G0n000000rcxZ";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //Cosentyx Queue SFID
        zData.patEnrollQueueId = "00G0n000000rcxZ";
        zData.classification = "Cosentyx";
        if(doc.deliveredTo.indexOf("6787270950") > -1){
            zData.classification = "Cosentyx Direct to SP"; 
        }
        zData.productId = null;
        zData.generateTiff = true;
        zData.generateTiffChild = true;
        //Not create a case when case record type is hotline
        //zData.skipCaseTypeId = ["012f4000000goyy", "012f4000000goyy"];
    } else if (doc.deliveredTo.indexOf("-----------") > -1) {
        //zData for Mayzent Support Program
        zData.programName = "Mayzent Support Program";
        //Mayzent Support Program Queue SFID as owner for zStack
        zData.ownerId = "---------";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //Mayzent Support Program Queue SFID
        zData.patEnrollQueueId = "-----------";
        zData.classification = "Mayzent Support Program";
        zData.productId = null;
        zData.generateTiff = true;
    } else {
        zData.programName = doc.deliveredTo; //ERS170626
    }
    alert("+++ ENDING zData.setTrainingConfig +++");
    alert("@@@ zData.programName = " + zData.programName);
    alert("@@@ zData.Affiliate = " + zData.Affiliate);
};
//HotFix config
zData.setProdConfig = function (doc) {
    alert("+++ STARTING zData.setProdConfig +++");
    alert("@@@ doc.deliveredTo = " + doc.deliveredTo);
    if (doc.deliveredTo.indexOf("6787271230") > -1 || doc.deliveredTo.indexOf("8442635644") > -1) { //ERS70421 indexOf is safer #36411
        zData.programName = "Entresto Central";
        //entresto Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000ynvB";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //entresto Queue SFID
        zData.patEnrollQueueId = "00Gf4000000ynvB";
        zData.classification = "Entresto";
        zData.productId = "a2Df4000000cDnP";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("8773108063") > -1 || doc.deliveredTo.indexOf("6787271779") > -1) {
        //zData for TOBI
        zData.programName = "TOBI PodCare";
        //TOBI Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000yz8T";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //TOBI Queue SFID
        zData.patEnrollQueueId = "00Gf4000000yz8T";
        zData.classification = "TOBI";
        zData.productId = "a2Df4000000cESI";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("8558172711") > -1 || doc.deliveredTo.indexOf("6787270275") > -1
        || doc.deliveredTo.indexOf("8662779335") > -1 || doc.deliveredTo.indexOf("8664701750") > -1
        || doc.deliveredTo.indexOf("8772616332") > -1) {
        //zData for NPAF
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDp";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDp";
        zData.classification = "NPAF";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("8774886697") > -1 || doc.deliveredTo.indexOf("6787270458") > -1
        || doc.deliveredTo.indexOf("8003449567") > -1) {
        //zData for NPAF priority
        zData.programName = "NPAF";
        //NPAF priority Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDq";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF priority Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDq";
        zData.classification = "NPAF";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270280") > -1 || doc.deliveredTo.indexOf("8888914924") > -1
        || doc.deliveredTo.indexOf("8662729439") > -1 || doc.deliveredTo.indexOf("8777052282") > -1) {
        //zData for PANO
        zData.programName = "PANO";
        //PANO Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDr";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //PANO Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDr";
        zData.classification = "PANO";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("8338731499") > -1 || doc.deliveredTo.indexOf("6787270282") > -1) {
        //zData for AIMOVIG
        zData.programName = "AIMOVIG";
        //AIMOVIG Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDn";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //AIMOVIG Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDn";
        zData.classification = "AIMOVIG";
        zData.productId = "a2Df40000009PEMEA2";
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("8003439117") > -1 || doc.deliveredTo.indexOf("8003934675") > -1) {
        //zData for Cosentyx
        zData.programName = "Cosentyx";
        //Cosentyx Queue SFID as owner for zStack
        zData.ownerId = "00Gf40000030akp";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //Cosentyx Queue SFID
        zData.patEnrollQueueId = "00Gf40000030akp";
        zData.classification = "Cosentyx";
        if(doc.deliveredTo.indexOf("8003934675") > -1){
            zData.classification = "Cosentyx Direct to SP"; 
        }
        zData.caseTypeMap={
        "012f4000000goyt" : "PEF",
        "012f4000000goyu" : "Copay Referral",
        "012f4000000goz0" : "PAP Referral",
        "012f4000000OS0R" : "Benefit Investigation"
        };
        //zData.productId = "a2D29000000SPLI";
        zData.productId = "a2Df40000009PEkEAM";
        zData.generateTiff = true;
        zData.generateTiffChild = true;
        //Not create a case when case record type is hotline
        //zData.skipCaseTypeId = ["012f4000000goyy", "012f4000000goyy"];
    } else if (doc.deliveredTo.indexOf("0000000000") > -1) {
        //zData for Mayzent Support Program
        zData.programName = "Mayzent Support Program";
        //Mayzent Support Program Queue SFID as owner for zStack
        zData.ownerId = "-----------";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //Mayzent Support Program Queue SFID
        zData.patEnrollQueueId = "------------";
        zData.classification = "AIMOVIG";
        zData.productId = "null";
        zData.generateTiff = true;
    } else {
        zData.programName = doc.deliveredTo; //ERS170626
    }
    alert("+++ ENDING zData.setProdConfig +++");
    alert("@@@ zData.programName = " + zData.programName);
    alert("@@@ zData.Affiliate = " + zData.Affiliate);
};


//PROD config
zData.setProdConfig = function (doc) {
    alert("+++ STARTING zData.setProdConfig +++");
    alert("@@@ doc.deliveredTo = " + doc.deliveredTo);
    if (doc.deliveredTo.indexOf("6787271230") > -1 || doc.deliveredTo.indexOf("8442635644") > -1) { //ERS70421 indexOf is safer #36411
        zData.programName = "Entresto Central";
        //entresto Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000ynvB";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //entresto Queue SFID
        zData.patEnrollQueueId = "00Gf4000000ynvB";
        zData.classification = "Entresto";
        zData.productId = "a2Df4000000cDnP";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("8773108063") > -1 || doc.deliveredTo.indexOf("6787271779") > -1) {
        //zData for TOBI
        zData.programName = "TOBI PodCare";
        //TOBI Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000yz8T";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //TOBI Queue SFID
        zData.patEnrollQueueId = "00Gf4000000yz8T";
        zData.classification = "TOBI";
        zData.productId = "a2Df4000000cESI";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("8558172711") > -1 || doc.deliveredTo.indexOf("6787270275") > -1
        || doc.deliveredTo.indexOf("8662779335") > -1 || doc.deliveredTo.indexOf("8664701750") > -1
        || doc.deliveredTo.indexOf("8772616332") > -1) {
        //zData for NPAF
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDp";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDp";
        zData.classification = "NPAF";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("8774886697") > -1 || doc.deliveredTo.indexOf("6787270458") > -1
        || doc.deliveredTo.indexOf("8003449567") > -1) {
        //zData for NPAF priority
        zData.programName = "NPAF";
        //NPAF priority Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDq";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF priority Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDq";
        zData.classification = "NPAF";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270280") > -1 || doc.deliveredTo.indexOf("8888914924") > -1
        || doc.deliveredTo.indexOf("8662729439") > -1 || doc.deliveredTo.indexOf("8777052282") > -1) {
        //zData for PANO
        zData.programName = "PANO";
        //PANO Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDr";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //PANO Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDr";
        zData.classification = "PANO";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("8338731499") > -1 || doc.deliveredTo.indexOf("6787270282") > -1) {
        //zData for AIMOVIG
        zData.programName = "AIMOVIG";
        //AIMOVIG Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDn";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //AIMOVIG Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDn";
        zData.classification = "AIMOVIG";
        zData.productId = "a2Df40000009PEMEA2";
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("8003439117") > -1 || doc.deliveredTo.indexOf("8003934675") > -1) {
        //zData for Cosentyx
        zData.programName = "Cosentyx";
        //Cosentyx Queue SFID as owner for zStack
        zData.ownerId = "00Gf40000030akp";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //Cosentyx Queue SFID
        zData.patEnrollQueueId = "00Gf40000030akp";
        zData.classification = "Cosentyx";
        if(doc.deliveredTo.indexOf("8003934675") > -1){
            zData.classification = "Cosentyx Direct to SP"; 
        }
        zData.caseTypeMap={
        "012f4000000goyt" : "PEF",
        "012f4000000goyu" : "Copay Referral",
        "012f4000000goz0" : "PAP Referral",
        "012f4000000OS0R" : "Benefit Investigation"
        };
        //zData.productId = "a2D29000000SPLI";
        zData.productId = "a2Df40000009PEkEAM";
        zData.generateTiff = true;
        zData.generateTiffChild = true;
        //Not create a case when case record type is hotline
        //zData.skipCaseTypeId = ["012f4000000goyy", "012f4000000goyy"];
    } else if (doc.deliveredTo.indexOf("0000000000") > -1) {
        //zData for Mayzent Support Program
        zData.programName = "Mayzent Support Program";
        //Mayzent Support Program Queue SFID as owner for zStack
        zData.ownerId = "-----------";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //Mayzent Support Program Queue SFID
        zData.patEnrollQueueId = "------------";
        zData.classification = "AIMOVIG";
        zData.productId = "null";
        zData.generateTiff = true;
    } else {
        zData.programName = doc.deliveredTo; //ERS170626
    }
    alert("+++ ENDING zData.setProdConfig +++");
    alert("@@@ zData.programName = " + zData.programName);
    alert("@@@ zData.Affiliate = " + zData.Affiliate);
};

/* this is an untested function to detect the sandbox name and assign values */ //ERS170522 activating
zData.orgSwitch = function (doc) { //ERS170512
    alert("sfUser is ******* :: " + doc.sfUserName);
    var sfUserName = doc.sfUserName.toUpperCase();
    if (sfUserName.indexOf("DEV") > -1) {
        alert("@@@ In the DEV org!");
        zData.setDevConfig(doc);
    } else if (sfUserName.indexOf("HotFix") > -1) {
        alert("@@@ In the Mock HotFix org!");
        zData.setHotFixConfig(doc);
    } else if (sfUserName.indexOf("TEST") > -1) {
        alert("@@@ In the TEST org!");
        zData.setTestConfig(doc);
    } else if (sfUserName.indexOf("TRAINING") > -1) {
        alert("@@@ In the TRAINING org!");
        zData.setTrainingConfig(doc);
    } else if (sfUserName.indexOf("SIT") > -1) {
        alert("@@@ In the SIT org!");
        zData.setSITConfig(doc);
    } else if (sfUserName.indexOf("UAT") > -1) {
        alert("@@@ In the UAT org!");
        zData.setUATConfig(doc);
    } else {
        alert("@@@ In the PROD org!");
        zData.setProdConfig(doc);
    }
};
zData.orgSwitch(doc); //ERS170822

/* This function needs to be added to every rule to help assure that rules do not get accidentally triggered */
/* Add this functionality to the rules engine itself? */
zData.clearTriggerCondition = function (doc, triggerField) { //ERS170512 moved to library
    var arrOfPairs = [];
    arrOfPairs.push(triggerField, "");
    updateDB(doc, arrOfPairs);
};

zData.initializeStack = function (doc, stackFolder, stackId) { //ERS170512 moved to library
    var arrOfPairs = [];
    var today = new Date();
    var curMonth = today.getMonth() + 1;
    var finalRootFolder = zData.programName + "-Archive"; //bates of the Archive folder
    var yyyyMMFolderName = today.getFullYear() + (curMonth > 9 ? curMonth + "" : "0" + curMonth);
    var yyyyMMFolder = finalRootFolder + "-" + yyyyMMFolderName;
    alert("@@@ stackFolder is - " + stackFolder);
    alert("@@@ finalRootFolder is - " + finalRootFolder);
    alert("@@@ yyMMFolder is - " + yyyyMMFolder);
    alert("@@@ creating new stack destinaion folder with name - " + stackFolder);
    /* Refresh the current folder */
    reloadById(doc, X(doc, "X_curFolder"));
    /* same value for BATES and label */
    /* The folder structure will look like this: /201608/3CX3CX/123456789-STACK */
    createFolder(doc, finalRootFolder, yyyyMMFolder, yyyyMMFolderName);
    createFolder(doc, yyyyMMFolder, stackFolder, stackFolder);
    alert("@@@@ Moving the stack document into the stack folder: " + stackFolder);
    moveDocument(doc, "", stackFolder);
    arrOfPairs.push("X_indexInitialized", "true");
    arrOfPairs.push("X_stack", stackId);
    arrOfPairs.push("db-BATES", doc.kbData.groupID.substring(1) + "-" + stackId + "-STACK");
    /* Stack Labelling Change */
    //MSH181004 unused var dtStamp = getCurDateAndTime(doc, false);
    /* arrOfPairs.push("db-label","Stack - " + dtStamp); */
    updateDB(doc, arrOfPairs);
};

zData.countPages = function (doc, pageRange) { //ERS170512 moved to library
    var pages = pageRange.split(",");
    if (!pages) {
        pages = [pageRange];
    }
    return pages.length + "";
};

zData.exposePDF = function (doc, sfId, pageRange) { //ERS170522 added pageRange
    var formatNow = getCurDateAndTime(doc, false, true);
    var arrOfPairs = [];
    var nowTimeStamp = new Date().getTime() + "";
    var fileName = getCurDate(doc) + " New Fax.pdf";

    alert("@@@fileName = " + fileName);
    createDirectory(doc, zData.uploadDir, nowTimeStamp);

    //AN170522 should xPages be passed in as a variable?
    var xPages = X(doc, "X_position");
    if (pageRange) {
        xPages = pageRange; //ERS170522
    }
    alert("@@@@@ Calling splitPDF to split off pages to upload as PDF, pages = " + xPages + ", nowTimeStamp = " + nowTimeStamp);
    var response = splitPDF(doc, xPages, zData.uploadDir, nowTimeStamp, fileName);
    alert("@@@@ response from splitPDF = " + response);
    var newPDFName = X(doc, "newPDF", response);
    alert("@@@@ split PDF FileName = " + newPDFName);
    var uploadURL = "http://localhost:8080/myfileforce/uploadToCloud.jsp?SFid=NEW&SFpid=" + sfId + "&SForg=" + doc.sfOrg + "&label=" + fileName + "&serverFile=" + newPDFName + "&Description=File attached as PDF";
    alert("#### Upload native PDF with " + uploadURL);
    var r = wget(doc, uploadURL); //ERS170512 was zData.uploadURL
    alert("#### Fax Received. Attached to: " + sfId);
    // Finally, delete the folder and all contents.
    cleanupDirectory(doc, zData.uploadDir, nowTimeStamp);
    // Now set the label in our Snippet
    arrOfPairs = [];
    arrOfPairs.push("db-label", "New file " + formatNow);
    arrOfPairs.push("db-BATES", sfId + "-STACK");
    updateDB(doc, arrOfPairs);
};
/* END */
//--- RULE CONSEQUENCE CODE - END ---

//--- RULE VALIDATION CODE ---
//--- RULE VALIDATION CODE - END ---

</script>
